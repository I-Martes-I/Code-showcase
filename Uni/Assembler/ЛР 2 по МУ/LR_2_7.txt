
            AREA    DATA, DATA, READWRITE 
            AREA    PROGRAM, CODE, READONLY     	
            ENTRY                               	
            ALIGN                               ; ????????? ?? ????? (4 ?????)

Reset_Handler
			LDR R0, = 0x20000040               ; начальный адрес исходного массива однобайтовых чисел
                        LDR R2, = 0X20000060               ; адрес для вывода среднего арифметического и количества положительных чисел              
			LDR R4, = 0x00                     ; максимальный элемент массива
			LDR R7, = 0xFF                     ; минимальный элемент массива
			LDR R6, = 0                        ; счетчик положительных чисел
			LDR R5, = 0x80                     ; маска знака
			
			
			LDR R1, =0x9                       
			STRB R1, [R0]
			LDR R1, =0x11
			STRB R1, [R0, #1]
			LDR R1, =0x88
			STRB R1, [R0, #2]
			LDR R1, =0x02
			STRB R1, [R0, #3]
			LDR R1, =0x07
			STRB R1, [R0, #4]
			LDR R1, =0x30
			STRB R1, [R0, #5]
			LDR R1, =0xE1
			STRB R1, [R0, #6]
			
LOOP
			LDRB R1, [R0]                      ; загружаем элемент из исходного массива
			ADDS R0, R0, #1                    ; увеличиваем адрес массива для перехода к следующему элементу
			CMP R1, #0xE1                      ; проверяем, не равен ли текущий элемент коду последнего элемента
			BEQ AVERAGE_MAX_MIN                    ; переходим к нахождению среднего арифметического, так как максимальный и минимальный элементы найдены
			TST R1, R5                         ; проверяем, число положительное или отрицательное
			BNE LOOP                           ; переходим по метке, если число отрицательное (Z = 0)
			ADDS R6, R6, #1                    ; иначе число положительное и мы увеличиваем счетчик положительных элементов
			CMP R1, R4                         
			BHI MAX
			CMP R1, R7
			BLO MIN
			B LOOP
MAX
			MOV R4, R1                         ; максимальный элемент копируем в R4
			B LOOP	
MIN
			MOV R7, R1                         ; минимальный элемент копируем в R7
			B LOOP
AVERAGE_MAX_MIN
			ADDS R4, R4, R7                    ; складываем макс. и мин. элементы, результат сложения в R4
			LSRS R4, R4, #1                    ; делим результат сложения на два посредством сдвига вправо на единицу - получаем среднее арифметическое 
			STRB R4, [R2]                      ; среднее арифметическое арифметическое копируем в R2
			STRB R6, [R2, #3]                  ; счетчик положительных элементов копируем в адрес R2 + 3
	
Stop
			B Stop			

            AREA    RESET, DATA, READONLY ; ???????? ?? ???????????? ???????? ??????????
            EXPORT  Vectors         ; ??????? ????? Vectors ??? ????????????
Vectors
            DCD     0x20004000      ; ?????? ????? (????????? ????? ???)
            DCD     Reset_Handler   ; ?????? ?????? (?????? ?????????)

            END  